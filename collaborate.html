<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Start to collaborate &mdash; covid19-model  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Git workflow" href="git_workflow.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            covid19-model
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Start to collaborate</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#using-data">Using data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#notebooks-are-for-exploration-and-communication">Notebooks are for exploration and communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation-website">Documentation website</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-covid19model-python-package">The <code class="docutils literal notranslate"><span class="pre">covid19model</span></code> Python package</a></li>
<li class="toctree-l2"><a class="reference internal" href="#repository-layout-overview">Repository layout overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#data">data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code">code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#documentation">documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hpc-specific-code">HPC specific code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notebooks">notebooks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automate-stuff">automate stuff</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-info">other info</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="git_workflow.html">Git workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="models.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="models.html#the-model">The model</a></li>
<li class="toctree-l1"><a class="reference internal" href="application.html">Run the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="previous_work.html">Previous work</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Future work</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">covid19-model</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Start to collaborate</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/collaborate.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="start-to-collaborate">
<h1>Start to collaborate<a class="headerlink" href="#start-to-collaborate" title="Permalink to this heading">¶</a></h1>
<p>When working on the model or the model code, make sure to read the following guidelines and keep them in mind. The main purpose of being rigid about the structure of the repository is to improve the general collaboration while keeping structure of the code in the long run and support reproducibility of the work. Still, it is work in progress and it should not block your work. In case you get stuck on something or you have a suggestion for improvement, feel free to open an <a class="reference external" href="https://github.com/UGentBiomath/COVID19-Model/issues/new">New Issue</a> on the repository.</p>
<section id="using-data">
<h2>Using data<a class="headerlink" href="#using-data" title="Permalink to this heading">¶</a></h2>
<p>Data is crucial for both the setup and the evaluation of the models and all the required data is collected in the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory. To organize the data sets, the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory has been split up:</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">raw</span></code> folder contains data as it has been downloaded from the original source, <strong>without any changes</strong> made (neither manual or using code). For each of the data sets it is crucial to describe the source (URL, contact person,…) from which this data set was derived.</p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">interim</span></code> folder contains data as it has been adopted to become useful for the model. Use code to transform the data sets in the <code class="docutils literal notranslate"><span class="pre">raw</span></code> folder and store the result in the <code class="docutils literal notranslate"><span class="pre">interim</span></code> folder. The script or function to do the transformation is kept in the <code class="docutils literal notranslate"><span class="pre">src/covid19model/data/</span></code> folder.</p></li>
</ul>
<p><strong>Remember:</strong> Don’t ever edit the <code class="docutils literal notranslate"><span class="pre">raw</span></code> data, especially not manually, and especially not in Excel. Don’t overwrite your raw data. Don’t save multiple versions of the raw data. Treat the data (and its format) as immutable. The code you write should move the raw data through a pipeline to your final analysis.</p>
<p>To make sure the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory does not become an unstructured set of data files from which no one knows the origin, the following guidelines apply to all data added to the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory:</p>
<ul class="simple">
<li><p>All <code class="docutils literal notranslate"><span class="pre">raw</span></code> data files are stored as the downloaded data file.</p></li>
<li><p>All <code class="docutils literal notranslate"><span class="pre">interim</span></code> data file names are written in lowercase, without spaces (use <code class="docutils literal notranslate"><span class="pre">_</span></code> instead).</p></li>
<li><p>When a (new) data set has been downloaded from a source, store it as such in the <code class="docutils literal notranslate"><span class="pre">raw</span></code> directory and document the origin in the <code class="docutils literal notranslate"><span class="pre">data/README.md</span></code> file.</p></li>
<li><p>The functions to prepare data sets are stored in the <code class="docutils literal notranslate"><span class="pre">src/covid19model/data/</span></code> folder. Add the function to the <code class="docutils literal notranslate"><span class="pre">data/README.md</span></code>./data/README.md document to define on which raw files the function operates and which <code class="docutils literal notranslate"><span class="pre">interim</span></code> files are created by it.</p></li>
</ul>
</section>
<section id="notebooks-are-for-exploration-and-communication">
<h2>Notebooks are for exploration and communication<a class="headerlink" href="#notebooks-are-for-exploration-and-communication" title="Permalink to this heading">¶</a></h2>
<p>Since notebooks are challenging objects for version control (e.g., diffs of the json are often not human-readable and merging is near impossible), we recommended not collaborating directly with others on Jupyter notebooks. There are two steps we recommend for using notebooks effectively:</p>
<ul class="simple">
<li><p>Follow a naming convention that shows the owner and the order the analysis was done in. We propose the format <step>-<ghuser>-<description>.ipynb (e.g., 0.3-twallema-model-network.ipynb).</p></li>
<li><p>Reuse the good parts. Don’t write code to do the same task in multiple notebooks. If it’s a data preprocessing task, put it in the pipeline at <code class="docutils literal notranslate"><span class="pre">src/covid19model/data/make_dataset.py</span></code> and load data from <code class="docutils literal notranslate"><span class="pre">data/covid19_DTM/interim</span></code>. If it’s useful utility code, refactor it and put it in the appropriate subfolder of the <code class="docutils literal notranslate"><span class="pre">src/covid19model</span></code> folder, e.g. visualisations inside <code class="docutils literal notranslate"><span class="pre">src/covid19model/visualization</span></code></p></li>
</ul>
<p>As the code of the <code class="docutils literal notranslate"><span class="pre">src/covid19model</span></code> folder is a Python package itself (see the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file). You can import your code and use it in notebooks without the need of reinstallation. Put the following at the top of your notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># OPTIONAL: Load the &quot;autoreload&quot; extension so that code can change</span>
<span class="o">%</span><span class="n">load_ext</span> <span class="n">autoreload</span>
<span class="c1"># OPTIONAL: always reload modules so that as you change code in src, it gets loaded</span>
<span class="o">%</span><span class="n">autoreload</span> <span class="mi">2</span>
<span class="kn">from</span> <span class="nn">covid19model.models</span> <span class="kn">import</span> <span class="o">...</span>
</pre></div>
</div>
<p><strong>Note:</strong> Use one of the <code class="docutils literal notranslate"><span class="pre">notebook/templates</span></code> to get started. You can run these online using <a class="reference external" href="https://mybinder.org/v2/gh/UGentBiomath/COVID19-Model/master?filepath=notebook/templates">Binder</a>. To use them locally, copy paste one of the templates to the general notebooks directory, rename it according to the defined format and start working on it.</p>
<p><a class="reference external" href="https://mybinder.org/v2/gh/UGentBiomath/COVID19-Model/master"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a></p>
</section>
<section id="documentation-website">
<h2>Documentation website<a class="headerlink" href="#documentation-website" title="Permalink to this heading">¶</a></h2>
<p>Documentation consists of both the technical matter about the code as well as background information on the models. To keep these up to date and centralized, we use <a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a> which enables us to keep the documentation together on a website.</p>
<p>The Sphinx setup provides the usage of both <code class="docutils literal notranslate"><span class="pre">.rst</span></code> file, i.e. <a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html">restructuredtext</a> as well as <code class="docutils literal notranslate"><span class="pre">.md</span></code> files, i.e. <a class="reference external" href="https://www.markdownguide.org/basic-syntax/">Markdown</a>. The latter is generally experienced as easier to write, while the former provides more advanced functionalities. Existing pages of the documentation reside in <code class="docutils literal notranslate"><span class="pre">~/docs/</span></code> and can be adjusted directly. In case you want to build the documentation locally, make sure you have the development dependencies installed (<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-e</span> <span class="pre">&quot;.[develop]&quot;</span></code>) to run the sphinx build script. To build locally, use,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build_sphinx</span>
</pre></div>
</div>
<p>When you want to create a new page, make sure to add the page to the <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> in order to make the page part of the website. The website is build automatically using <a class="reference external" href="https://github.com/UGentBiomath/COVID19-Model/blob/master/.github/workflows/deploy.yml#L22-L24">github actions</a> and the output is deployed to <a class="reference external" href="https://ugentbiomath.github.io/COVID19-Model/">https://ugentbiomath.github.io/COVID19-Model/</a>. The resulting html-website is created in the directory <code class="docutils literal notranslate"><span class="pre">build/html</span></code>. Double click any of the <code class="docutils literal notranslate"><span class="pre">html</span></code> file in the folder to open the website in your browser (no server required).</p>
</section>
<section id="the-covid19model-python-package">
<h2>The <code class="docutils literal notranslate"><span class="pre">covid19model</span></code> Python package<a class="headerlink" href="#the-covid19model-python-package" title="Permalink to this heading">¶</a></h2>
<p>The code inside the <code class="docutils literal notranslate"><span class="pre">src/covid19model</span></code> directory is actually a Python package, which provides a number of additional benefits on the maintenance of the code.</p>
<p>Before doing any changes, always make sure your own version of your code (i.e. <code class="docutils literal notranslate"><span class="pre">fork</span></code>) is up to date with the <code class="docutils literal notranslate"><span class="pre">master</span></code> of the <a class="reference external" href="https://github.com/UGentBiomath/COVID19-Model">main repository </a>. First, check out the <strong><a class="reference internal" href="git_workflow.html"><span class="std std-doc">git workflow</span></a></strong> for a step-by-step explanation of the proposed workflow. For more information, see also:</p>
<ul class="simple">
<li><p>If you are a command line person, check <a class="reference external" href="https://gist.github.com/CristinaSolana/1885435">this workflow</a></p></li>
<li><p>If you are not a command line person: <a class="reference external" href="https://www.sitepoint.com/quick-tip-sync-your-fork-with-the-original-without-the-cli/">this workflow</a> can help you staying up to date.</p></li>
</ul>
<p>For each of the functions you write, make sure to add the documentation to the function. We use the <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpy docstring</a> format to write documentation. For each function, make sure the following items are defined at least:</p>
<ul class="simple">
<li><p>Short summary (top line)</p></li>
<li><p>Parameters</p></li>
<li><p>Returns</p></li>
<li><p>References (if applicable)</p></li>
</ul>
<p><strong>Note:</strong> When adding new packages makes sure to update both,</p>
<ul class="simple">
<li><p>the environment file, <a class="reference external" href="https://github.com/UGentBiomath/COVID19-Model/blob/master/environment.yml">evironment.yml</a> for binder,</p></li>
<li><p>the setup file, <a class="reference external" href="https://github.com/UGentBiomath/COVID19-Model/blob/master/setup.py">setup.py</a> file to include this dependency for the installation of the package.</p></li>
</ul>
</section>
<section id="repository-layout-overview">
<h2>Repository layout overview<a class="headerlink" href="#repository-layout-overview" title="Permalink to this heading">¶</a></h2>
<p>As the previous sections described, each subfolder of the repository has a specific purpose and we would ask to respect the general layout. Still, this is all work in progress, so alterations to it that improve the workflow are certainly possible. Please do your suggestion by creating a <a class="reference external" href="https://github.com/UGentBiomath/COVID19-Model/issues/new/choose">New issue</a>.</p>
<p><strong>Remember:</strong> Anyone should be able to reproduce the final products with only the <code class="docutils literal notranslate"><span class="pre">code</span></code> in <code class="docutils literal notranslate"><span class="pre">src</span></code> and the data in <code class="docutils literal notranslate"><span class="pre">data/covid19_DTM/raw</span></code>!</p>
<section id="data">
<h3>data<a class="headerlink" href="#data" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── data                                    &lt;- cfr. current set of data sets
│   ├── raw                                 &lt;- data as provided in raw format
│   │   ├── UZGent
│   │   └── economical
│   │   └── google
│   │   └── model_parameters
│   │   └── polymod
│   │   └── sciensano
│   ├── interim                             &lt;- data sets after speicific manipulation
│   │   ├── ...
│   └── README.md                           &lt;- for each data set: what, how to get,...
</pre></div>
</div>
</section>
<section id="code">
<h3>code<a class="headerlink" href="#code" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── src                                     &lt;- all reusable code blocks
│   ├── covid19model
|   │   ├── data                            &lt;- any code required for data reading and manipulation
|   │   ├── models                          &lt;- any code constructing the models
|   │   ├── optimization                    &lt;- code related to parameter callibration
|   │   ├── visualization                   &lt;- code for making figures
|   │   └── __init__.py                     &lt;- structured as lightweight python package
│   ├── tests
|   │   ├── ... .py                         &lt;- all test code during development
</pre></div>
</div>
</section>
<section id="documentation">
<h3>documentation<a class="headerlink" href="#documentation" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── docs                                    &lt;- documentation
│   ├── conf.py
│   ├── index.rst                           &lt;- explanations are written inside markdown or st files
│   ├── ... .md                             &lt;- pages of the documentation website
│   ├── Makefile
│   └── _static
│   │   └── figs                            &lt;- figs linked to the documentation
│   │       ├── ...
│   │       └── SEIRSNetworkModel.jpg
</pre></div>
</div>
</section>
<section id="hpc-specific-code">
<h3>HPC specific code<a class="headerlink" href="#hpc-specific-code" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── hpc
│   ├── calibrate_stochastic.py
│   ├── README.md
│   ├── sim_stochastic.py
│   └── test.sh
</pre></div>
</div>
</section>
<section id="notebooks">
<h3>notebooks<a class="headerlink" href="#notebooks" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── notebooks                               &lt;- notebooks are collected here
│   ├── 0.1-user-content.ipynb              &lt;- notebook per version-user-content
│   ├── templates                           &lt;- demo notebooks that can be used as starting point (and binder intro)
│       ├── SEIRSAgeModel_demo.ipynb
│       └── SEIRSNetworkModel_demo.ipynb
│   ├── scratch                             &lt;- test notebooks

├── reports                                 &lt;- optional (e.g. report from automatic daily rerun)
│   └── figures
</pre></div>
</div>
</section>
<section id="automate-stuff">
<h3>automate stuff<a class="headerlink" href="#automate-stuff" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── .github                                 &lt;- Automate specific steps with github actions
│   ├── workflows
│   │   ├── deploy.yml
│   │   └── ...
</pre></div>
</div>
</section>
<section id="other-info">
<h3>other info<a class="headerlink" href="#other-info" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>├── LICENSE
├── environment.yml
├── setup.py
└── README.md                               &lt;- focus on how to get started, setup environment name conventions and
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="git_workflow.html" class="btn btn-neutral float-right" title="Git workflow" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Biomath.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>